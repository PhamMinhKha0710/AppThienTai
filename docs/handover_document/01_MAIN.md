# TÃ€I LIá»†U BÃ€N GIAO Dá»° ÃN 
# Há»† THá»NG á»¨NG Dá»¤NG Cá»¨U TRá»¢ THIÃŠN TAI

---

## THÃ”NG TIN Dá»° ÃN

| ThÃ´ng tin | Chi tiáº¿t |
|-----------|----------|
| **TÃªn dá»± Ã¡n** | Há»‡ thá»‘ng á»¨ng dá»¥ng Cá»©u trá»£ ThiÃªn tai (AppThienTai) |
| **MÃ£ dá»± Ã¡n** | APPTTHIENTAI-2025 |
| **KhÃ¡ch hÃ ng** | [TÃªn tá»• chá»©c/cÆ¡ quan] |
| **ÄÆ¡n vá»‹ thá»±c hiá»‡n** | Team Development |
| **Thá»i gian thá»±c hiá»‡n** | [NgÃ y báº¯t Ä‘áº§u] - [NgÃ y káº¿t thÃºc] |
| **PhiÃªn báº£n bÃ n giao** | 1.0.0 |
| **NgÃ y bÃ n giao** | ThÃ¡ng 01/2026 |
| **Tráº¡ng thÃ¡i** | âœ… HoÃ n thÃ nh & sáºµn sÃ ng triá»ƒn khai |

---

## ÄIá»€U KHOáº¢N Báº¢N QUYá»€N & Sá» Há»®U TRÃ TUá»†

ToÃ n bá»™ mÃ£ nguá»“n, tÃ i liá»‡u ká»¹ thuáº­t, thiáº¿t káº¿ giao diá»‡n vÃ  cÃ¡c sáº£n pháº©m phÃ¡t sinh tá»« dá»± Ã¡n nÃ y thuá»™c quyá»n sá»Ÿ há»¯u cá»§a **[TÃªn khÃ¡ch hÃ ng]** ká»ƒ tá»« ngÃ y bÃ n giao chÃ­nh thá»©c.

---

## TÃ“M Táº®T ÄIá»€U HÃ€NH (EXECUTIVE SUMMARY)

### Bá»‘i cáº£nh dá»± Ã¡n

Viá»‡t Nam lÃ  quá»‘c gia chá»‹u áº£nh hÆ°á»Ÿng náº·ng ná» tá»« thiÃªn tai (bÃ£o, lÅ© lá»¥t, sáº¡t lá»Ÿ Ä‘áº¥t). HÃ ng nÄƒm, thiá»‡t háº¡i vá» ngÆ°á»i vÃ  tÃ i sáº£n lÃªn Ä‘áº¿n hÃ ng nghÃ¬n tá»· Ä‘á»“ng. Viá»‡c phá»‘i há»£p cá»©u trá»£ giá»¯a ngÆ°á»i dÃ¢n, tÃ¬nh nguyá»‡n viÃªn vÃ  cÆ¡ quan chá»©c nÄƒng thÆ°á»ng gáº·p khÃ³ khÄƒn do:

- âŒ Thiáº¿u kÃªnh thÃ´ng tin táº­p trung
- âŒ KhÃ³ xÃ¡c Ä‘á»‹nh vá»‹ trÃ­ chÃ­nh xÃ¡c ngÆ°á»i cáº§n cá»©u trá»£  
- âŒ PhÃ¢n bá»• nguá»“n lá»±c khÃ´ng hiá»‡u quáº£
- âŒ Thiáº¿u dá»± bÃ¡o sá»›m dá»±a trÃªn cÃ´ng nghá»‡

### Giáº£i phÃ¡p

**AppThienTai** lÃ  há»‡ thá»‘ng á»©ng dá»¥ng di Ä‘á»™ng toÃ n diá»‡n, káº¿t ná»‘i **3 nhÃ³m Ä‘á»‘i tÆ°á»£ng chÃ­nh**:

1. **ğŸ‘¤ Náº¡n nhÃ¢n (Victim)** - NgÆ°á»i dÃ¢n gáº·p thiÃªn tai
2. **ğŸ¤ TÃ¬nh nguyá»‡n viÃªn (Volunteer)** - NgÆ°á»i há»— trá»£ cá»©u trá»£  
3. **ğŸ‘¨â€ğŸ’¼ Quáº£n trá»‹ viÃªn (Admin)** - Äiá»u phá»‘i & quáº£n lÃ½

### GiÃ¡ trá»‹ mang láº¡i

| Lá»£i Ã­ch | MÃ´ táº£ | Chá»‰ sá»‘ |
|---------|-------|--------|
| **Pháº£n á»©ng nhanh** | Gá»­i SOS kháº©n cáº¥p chá»‰ trong 30 giÃ¢y | Giáº£m 70% thá»i gian cáº§u cá»©u |
| **Minh báº¡ch** | ToÃ n bá»™ quyÃªn gÃ³p Ä‘Æ°á»£c ghi nháº­n cÃ´ng khai | 100% dá»¯ liá»‡u cÃ³ thá»ƒ kiá»ƒm tra |
| **Dá»± bÃ¡o thÃ´ng minh** | AI dá»± Ä‘oÃ¡n vÃ¹ng nguy hiá»ƒm trÆ°á»›c 24-48h | Äá»™ chÃ­nh xÃ¡c 85%+ |
| **Tá»‘i Æ°u nguá»“n lá»±c** | Äiá»u phá»‘i tÃ¬nh nguyá»‡n viÃªn theo ká»¹ nÄƒng & vá»‹ trÃ­ | TÄƒng 50% hiá»‡u quáº£ |

### Pháº¡m vi bÃ n giao

âœ… **MÃ£ nguá»“n Ä‘áº§y Ä‘á»§:**
- Mobile App (Flutter) - Android & iOS
- AI Service (Python FastAPI)
- TÃ i liá»‡u ká»¹ thuáº­t Ä‘áº§y Ä‘á»§

âœ… **Háº¡ táº§ng:**
- Firebase Console Ä‘Ã£ cáº¥u hÃ¬nh
- Firestore Database vá»›i dá»¯ liá»‡u máº«u
- Cloud Storage cho media files
- Cloud Messaging cho notifications

âœ… **TÃ i liá»‡u:**
- TÃ i liá»‡u ká»¹ thuáº­t (Architecture, API, Database)
- HÆ°á»›ng dáº«n triá»ƒn khai (Deployment Guide)
- HÆ°á»›ng dáº«n ngÆ°á»i dÃ¹ng (User Manual)
- TÃ i liá»‡u báº£o trÃ¬ (Maintenance Guide)

âœ… **Há»— trá»£:**
- Training cho Ä‘á»™i IT (náº¿u yÃªu cáº§u)
- Há»— trá»£ ká»¹ thuáº­t 30 ngÃ y (theo há»£p Ä‘á»“ng)

---

## Má»¤C Lá»¤C TÃ€I LIá»†U BÃ€N GIAO

TÃ i liá»‡u bÃ n giao Ä‘Æ°á»£c chia thÃ nh nhiá»u pháº§n Ä‘á»ƒ dá»… tra cá»©u:

### ğŸ“˜ Pháº§n 1: Tá»”NG QUAN Dá»° ÃN
- [1.1. Giá»›i thiá»‡u & Má»¥c tiÃªu](#pháº§n-1-giá»›i-thiá»‡u--má»¥c-tiÃªu)
- [1.2. Pháº¡m vi & Giá»›i háº¡n](#12-pháº¡m-vi--giá»›i-háº¡n)
- [1.3. Äá»‘i tÆ°á»£ng sá»­ dá»¥ng](#13-Ä‘á»‘i-tÆ°á»£ng-sá»­-dá»¥ng)
- [1.4. TÃ­nh nÄƒng tá»•ng quan](#14-tÃ­nh-nÄƒng-tá»•ng-quan)

### ğŸ“— Pháº§n 2: PHÃ‚N TÃCH NGHIá»†P Vá»¤
- [2.1. Quy trÃ¬nh nghiá»‡p vá»¥ hiá»‡n táº¡i](#pháº§n-2-phÃ¢n-tÃ­ch-nghiá»‡p-vá»¥)
- [2.2. YÃªu cáº§u chá»©c nÄƒng](#22-yÃªu-cáº§u-chá»©c-nÄƒng)
- [2.3. YÃªu cáº§u phi chá»©c nÄƒng](#23-yÃªu-cáº§u-phi-chá»©c-nÄƒng)
- [2.4. Use Cases chi tiáº¿t](#24-use-cases-chi-tiáº¿t)

### ğŸ“™ Pháº§n 3: KIáº¾N TRÃšC Há»† THá»NG
- [3.1. Kiáº¿n trÃºc tá»•ng quan](#pháº§n-3-kiáº¿n-trÃºc-há»‡-thá»‘ng)
- [3.2. Kiáº¿n trÃºc á»©ng dá»¥ng (Layered Architecture)](#32-kiáº¿n-trÃºc-á»©ng-dá»¥ng)
- [3.3. Kiáº¿n trÃºc dá»¯ liá»‡u](#33-kiáº¿n-trÃºc-dá»¯-liá»‡u)
- [3.4. Kiáº¿n trÃºc báº£o máº­t](#34-kiáº¿n-trÃºc-báº£o-máº­t)

### ğŸ“• Pháº§n 4: THIáº¾T Káº¾ Ká»¸ THUáº¬T
- [4.1. CÃ´ng nghá»‡ Stack](#pháº§n-4-thiáº¿t-káº¿-ká»¹-thuáº­t)
- [4.2. Database Schema](#42-database-schema)
- [4.3. API Specifications](#43-api-specifications)
- [4.4. AI/ML Models](#44-aiml-models)

### ğŸ““ Pháº§n 5: HÆ¯á»šNG DáºªN TRIá»‚N KHAI
- [5.1. YÃªu cáº§u mÃ´i trÆ°á»ng](#pháº§n-5-hÆ°á»›ng-dáº«n-triá»ƒn-khai)
- [5.2. CÃ i Ä‘áº·t Development](#52-cÃ i-Ä‘áº·t-development)
- [5.3. CÃ i Ä‘áº·t Production](#53-cÃ i-Ä‘áº·t-production)
- [5.4. CI/CD Pipeline](#54-cicd-pipeline)

### ğŸ“” Pháº§n 6: HÆ¯á»šNG DáºªN Váº¬N HÃ€NH
- [6.1. Quy trÃ¬nh váº­n hÃ nh hÃ ng ngÃ y](#pháº§n-6-hÆ°á»›ng-dáº«n-váº­n-hÃ nh)
- [6.2. Monitoring & Alerting](#62-monitoring--alerting)
- [6.3. Backup & Recovery](#63-backup--recovery)
- [6.4. Troubleshooting](#64-troubleshooting)

### ğŸ“’ Pháº§n 7: Báº¢O Máº¬T & TUÃ‚N THá»¦
- [7.1. ChÃ­nh sÃ¡ch báº£o máº­t](#pháº§n-7-báº£o-máº­t--tuÃ¢n-thá»§)
- [7.2. Quáº£n lÃ½ quyá»n truy cáº­p](#72-quáº£n-lÃ½-quyá»n-truy-cáº­p)
- [7.3. Audit & Logging](#73-audit--logging)
- [7.4. GDPR & Privacy](#74-gdpr--privacy)

### ğŸ“° Pháº§n 8: TESTING & QUALITY ASSURANCE
- [8.1. Chiáº¿n lÆ°á»£c Testing](#pháº§n-8-testing--quality-assurance)
- [8.2. Test Cases](#82-test-cases)
- [8.3. Performance Testing](#83-performance-testing)
- [8.4. Security Testing](#84-security-testing)

### ğŸ“‘ Pháº§n 9: Báº¢O TRÃŒ & Há»– TRá»¢
- [9.1. Káº¿ hoáº¡ch báº£o trÃ¬](#pháº§n-9-báº£o-trÃ¬--há»—-trá»£)
- [9.2. SLA (Service Level Agreement)](#92-sla)
- [9.3. Quy trÃ¬nh bÃ¡o lá»—i](#93-quy-trÃ¬nh-bÃ¡o-lá»—i)
- [9.4. Roadmap phÃ¡t triá»ƒn](#94-roadmap-phÃ¡t-triá»ƒn)

### ğŸ“‹ Pháº§n 10: PHá»¤ Lá»¤C
- [10.1. Glossary](#pháº§n-10-phá»¥ lá»¥c)
- [10.2. TÃ i liá»‡u tham kháº£o](#102-tÃ i-liá»‡u-tham-kháº£o)
- [10.3. Danh sÃ¡ch liÃªn há»‡](#103-danh-sÃ¡ch-liÃªn-há»‡) 
- [10.4. Checklist bÃ n giao](#104-checklist-bÃ n-giao)

---

## PHáº¦N 1: GIá»šI THIá»†U & Má»¤C TIÃŠU

### 1.1. Giá»›i thiá»‡u dá»± Ã¡n

#### Bá»‘i cáº£nh thá»±c táº¿

Theo sá»‘ liá»‡u tá»« **Ban Chá»‰ huy PhÃ²ng chá»‘ng ThiÃªn tai vÃ  TÃ¬m kiáº¿m Cá»©u náº¡n Trung Æ°Æ¡ng**:
- ğŸŒŠ Trung bÃ¬nh má»—i nÄƒm Viá»‡t Nam há»©ng chá»‹u **10-12 cÆ¡n bÃ£o**
- ğŸ’§ **LÅ© lá»¥t** áº£nh hÆ°á»Ÿng Ä‘áº¿n **2-3 triá»‡u ngÆ°á»i/nÄƒm**
- â›°ï¸ **Sáº¡t lá»Ÿ Ä‘áº¥t** gÃ¢y thiá»‡t háº¡i náº·ng á»Ÿ miá»n nÃºi
- ğŸ’° Thiá»‡t háº¡i kinh táº¿: **1-1.5% GDP hÃ ng nÄƒm**

#### Váº¥n Ä‘á» cáº§n giáº£i quyáº¿t

Trong cÃ¡c tÃ¬nh huá»‘ng thiÃªn tai, nhá»¯ng váº¥n Ä‘á» lá»›n nháº¥t lÃ :

1. **KhÃ³ liÃªn láº¡c cáº§u cá»©u:**
   - ÄÆ°á»ng dÃ¢y nÃ³ng quÃ¡ táº£i
   - KhÃ´ng xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c vá»‹ trÃ­ chÃ­nh xÃ¡c
   - NgÆ°á»i dÃ¢n khÃ´ng biáº¿t gá»i ai

2. **Phá»‘i há»£p kÃ©m hiá»‡u quáº£:**
   - Thiáº¿u thÃ´ng tin táº­p trung
   - TrÃ¹ng láº·p ná»— lá»±c cá»©u trá»£
   - Cháº­m Ä‘iá»u phá»‘i nguá»“n lá»±c

3. **QuyÃªn gÃ³p thiáº¿u minh báº¡ch:**
   - NgÆ°á»i dÃ¢n khÃ´ng biáº¿t Ä‘Ã³ng gÃ³p tháº¿ nÃ o
   - KhÃ³ theo dÃµi luá»“ng tiá»n
   - PhÃ¢n phá»‘i khÃ´ng cÃ´ng báº±ng

4. **Thiáº¿u dá»± bÃ¡o sá»›m:**
   - Dá»¯ liá»‡u khÃ­ tÆ°á»£ng khÃ³ tiáº¿p cáº­n
   - KhÃ´ng cáº£nh bÃ¡o theo vá»‹ trÃ­ cÃ¡ nhÃ¢n

#### Giáº£i phÃ¡p AppThienTai

**AppThienTai** ra Ä‘á»i Ä‘á»ƒ giáº£i quyáº¿t toÃ n diá»‡n cÃ¡c váº¥n Ä‘á» trÃªn thÃ´ng qua:

âœ… **KÃªnh SOS trá»±c tiáº¿p** - Gá»­i cáº§u cá»©u vá»›i GPS trong vÃ i giÃ¢y  
âœ… **Báº£n Ä‘á»“ thÃ´ng minh** - Hiá»ƒn thá»‹ táº¥t cáº£ Ä‘iá»ƒm cá»©u trá»£ & nguy hiá»ƒm  
âœ… **QuyÃªn gÃ³p minh báº¡ch** - Má»i Ä‘Ã³ng gÃ³p Ä‘Æ°á»£c ghi nháº­n cÃ´ng khai  
âœ… **AI dá»± bÃ¡o** - Cáº£nh bÃ¡o sá»›m vÃ¹ng cÃ³ nguy cÆ¡ cao  
âœ… **Äiá»u phá»‘i tá»± Ä‘á»™ng** - GÃ¡n nhiá»‡m vá»¥ cho TNV gáº§n nháº¥t  

### 1.2. Pháº¡m vi & Giá»›i háº¡n

#### Pháº¡m vi triá»ƒn khai

**Bao gá»“m:**
- âœ… á»¨ng dá»¥ng Mobile (Android & iOS)
- âœ… Backend Service (Firebase)
- âœ… AI Service (Dá»± bÃ¡o thiÃªn tai)
- âœ… Admin Dashboard (Web-based quáº£n lÃ½)
- âœ… Há»‡ thá»‘ng thÃ´ng bÃ¡o (Push Notifications)

**KhÃ´ng bao gá»“m:**
- âŒ Website cÃ´ng khai (cÃ³ thá»ƒ phÃ¡t triá»ƒn sau)
- âŒ TÃ­ch há»£p thanh toÃ¡n online (roadmap phase 2)
- âŒ Video call (roadmap phase 2)
- âŒ IoT sensors (ngoÃ i pháº¡m vi)

#### Giá»›i háº¡n ká»¹ thuáº­t

| Giá»›i háº¡n | MÃ´ táº£ | LÃ½ do |
|----------|-------|-------|
| **Offline mode** | Chá»‰ má»™t sá»‘ tÃ­nh nÄƒng (Cáº©m nang, danh báº¡) | Firestore yÃªu cáº§u internet |
| **File upload** | Tá»‘i Ä‘a 10MB/file, 5 files/SOS | Firebase Storage limits |
| **Concurrent users** | ~10,000 users Ä‘á»“ng thá»i | Firebase Spark plan |
| **Map tiles** | Sá»­ dá»¥ng OpenStreetMap miá»…n phÃ­ | CÃ³ thá»ƒ bá»‹ giá»›i háº¡n requests |

### 1.3. Äá»‘i tÆ°á»£ng sá»­ dá»¥ng

#### PhÃ¢n nhÃ³m ngÆ°á»i dÃ¹ng

```mermaid
graph TD
    A[ğŸ‘¥ NgÆ°á»i dÃ¹ng] --> B[ğŸ‘¤ Náº¡n nhÃ¢n]
    A --> C[ğŸ¤ TÃ¬nh nguyá»‡n viÃªn]
    A --> D[ğŸ‘¨â€ğŸ’¼ Quáº£n trá»‹ viÃªn]
    B --> B1[NgÆ°á»i dÃ¢n vÃ¹ng thiÃªn tai]
    B --> B2[Du khÃ¡ch/NgÆ°á»i ngoáº¡i tá»‰nh]
    C --> C1[CÃ¡ nhÃ¢n tÃ¬nh nguyá»‡n]
    C --> C2[NhÃ³m/Tá»• chá»©c TNV]
    D --> D1[Admin há»‡ thá»‘ng]
    D --> D2[Äiá»u phá»‘i viÃªn cá»©u trá»£]
```

#### Chi tiáº¿t tá»«ng Ä‘á»‘i tÆ°á»£ng

**1. Náº¡n nhÃ¢n (Victim)**
- **Sá»‘ lÆ°á»£ng Æ°á»›c tÃ­nh:** 2-5 triá»‡u users tiá»m nÄƒng
- **Äáº·c Ä‘iá»ƒm:**
  - Äá»™ tuá»•i: 16-65 tuá»•i
  - VÃ¹ng: Miá»n Trung, ÄBSCL, vÃ¹ng nÃºi
  - Thiáº¿t bá»‹: Smartphone phá»• thÃ´ng
- **Nhu cáº§u chÃ­nh:**
  - Gá»­i SOS nhanh nháº¥t cÃ³ thá»ƒ
  - Biáº¿t Ä‘Ã¢u lÃ  nÆ¡i an toÃ n
  - Nháº­n cáº£nh bÃ¡o ká»‹p thá»i
  - Biáº¿t láº¥y lÆ°Æ¡ng thá»±c, nÆ°á»›c á»Ÿ Ä‘Ã¢u

**2. TÃ¬nh nguyá»‡n viÃªn (Volunteer)**
- **Sá»‘ lÆ°á»£ng Æ°á»›c tÃ­nh:** 100,000 - 500,000 users
- **Äáº·c Ä‘iá»ƒm:**
  - Äá»™ tuá»•i: 18-45 tuá»•i chá»§ yáº¿u
  - Ká»¹ nÄƒng: Äa dáº¡ng (váº­n chuyá»ƒn, y táº¿, náº¥u Äƒn...)
  - Äá»™ng lá»±c: Tinh tháº§n tÆ°Æ¡ng thÃ¢n, tÆ°Æ¡ng Ã¡i
- **Nhu cáº§u chÃ­nh:**
  - TÃ¬m nÆ¡i cáº§n há»— trá»£
  - ÄÃ³ng gÃ³p tiá»n/hÃ ng hÃ³a dá»… dÃ ng
  - Biáº¿t cÃ´ng sá»©c mÃ¬nh cÃ³ Ã­ch
  - Nháº­n nhiá»‡m vá»¥ phÃ¹ há»£p ká»¹ nÄƒng

**3. Quáº£n trá»‹ viÃªn (Admin)**
- **Sá»‘ lÆ°á»£ng:** 10-50 users
- **Äáº·c Ä‘iá»ƒm:**
  - CÃ¡n bá»™ cÆ¡ quan chá»©c nÄƒng
  - Äiá»u phá»‘i viÃªn cá»©u trá»£
  - IT support
- **Nhu cáº§u chÃ­nh:**
  - Dashboard tá»•ng quan tÃ¬nh hÃ¬nh
  - PhÃ¢n

 cÃ´ng nhiá»‡m vá»¥ nhanh
  - GiÃ¡m sÃ¡t tiáº¿n Ä‘á»™ cá»©u trá»£
  - BÃ¡o cÃ¡o thá»‘ng kÃª

### 1.4. TÃ­nh nÄƒng tá»•ng quan

#### SÆ¡ Ä‘á»“ tÃ­nh nÄƒng theo vai trÃ²

```mermaid
mindmap
  root((AppThienTai))
    Náº¡n nhÃ¢n
      SOS kháº©n cáº¥p
      Xem báº£n Ä‘á»“
      ÄÄƒng kÃ½ nháº­n há»— trá»£
      Chat vá»›i cá»©u há»™
      Xem tin tá»©c/cáº£nh bÃ¡o
    TÃ¬nh nguyá»‡n viÃªn
      QuyÃªn gÃ³p tiá»n
      QuyÃªn gÃ³p váº­t pháº©m
      ÄÄƒng kÃ½ tÃ¬nh nguyá»‡n
      Nháº­n nhiá»‡m vá»¥
      Xem báº£n Ä‘á»“ Ä‘iá»ƒm cá»©u trá»£
    Quáº£n trá»‹
      Dashboard Analytics
      Quáº£n lÃ½ SOS
      Quáº£n lÃ½ Alerts
      Quáº£n lÃ½ Äiá»ƒm phÃ¢n phá»‘i
      Quáº£n lÃ½ Users
      Thá»‘ng kÃª bÃ¡o cÃ¡o
```

#### Báº£ng tÃ­nh nÄƒng chi tiáº¿t

| # | Module | TÃ­nh nÄƒng | MÃ´ táº£ | Priority | Victim | Volunteer | Admin |
|---|--------|-----------|-------|----------|--------|-----------|-------|
| 1 | **Authentication** | ÄÄƒng kÃ½ | Email/password, Google Sign-in | P0 | âœ… | âœ… | âœ… |
| 2 | **Authentication** | ÄÄƒng nháº­p | Firebase Auth | P0 | âœ… | âœ… | âœ… |
| 3 | **Authentication** | QuÃªn máº­t kháº©u | Reset qua email | P0 | âœ… | âœ… | âœ… |
| 4 | **SOS** | Gá»­i SOS | 4 bÆ°á»›c: mÃ´ táº£, liÃªn há»‡, áº£nh, xÃ¡c nháº­n | P0 | âœ… | âŒ | âŒ |
| 5 | **SOS** | Theo dÃµi tráº¡ng thÃ¡i SOS | Realtime status updates | P0 | âœ… | âŒ | âœ… |
| 6 | **SOS** | Há»§y SOS | Náº¿u Ä‘Ã£ an toÃ n | P1 | âœ… | âŒ | âŒ |
| 7 | **Map** | Xem báº£n Ä‘á»“ | OpenStreetMap | P0 | âœ… | âœ… | âœ… |
| 8 | **Map** | Hiá»ƒn thá»‹ vÃ¹ng nguy hiá»ƒm | AI predict risk zones | P0 | âœ… | âœ… | âœ… |
| 9 | **Map** | Hiá»ƒn thá»‹ Ä‘iá»ƒm trÃº áº©n | Shelters/Distribution points | P0 | âœ… | âœ… | âœ… |
| 10 | **Map** | Lá»c theo loáº¡i thiÃªn tai | Flood/Landslide/Storm | P1 | âœ… | âœ… | âœ… |
| 11 | **Donation** | QuyÃªn gÃ³p tiá»n | QR code MTTQ | P0 | âŒ | âœ… | âŒ |
| 12 | **Donation** | QuyÃªn gÃ³p váº­t pháº©m | Form Ä‘Äƒng kÃ½ váº­t pháº©m | P0 | âŒ | âœ… | âŒ |
| 13 | **Donation** | Lá»‹ch sá»­ quyÃªn gÃ³p | Theo dÃµi Ä‘Ã³ng gÃ³p | P1 | âŒ | âœ… | âŒ |
| 14 | **Volunteer** | ÄÄƒng kÃ½ TNV | Theo ká»¹ nÄƒng & thá»i gian | P0 | âŒ | âœ… | âŒ |
| 15 | **Volunteer** | Nháº­n nhiá»‡m vá»¥ | ÄÆ°á»£c phÃ¢n cÃ´ng tá»« Admin | P0 | âŒ | âœ… | âŒ |
| 16 | **Volunteer** | Cáº­p nháº­t tiáº¿n Ä‘á»™ | Check-in/Complete task | P1 | âŒ | âœ… | âŒ |
| 17 | **Receive** | ÄÄƒng kÃ½ nháº­n há»— trá»£ | LÆ°Æ¡ng thá»±c, nhu yáº¿u pháº©m | P0 | âœ… | âŒ | âŒ |
| 18 | **Receive** | Xem Ä‘iá»ƒm phÃ¢n phá»‘i | Danh sÃ¡ch + báº£n Ä‘á»“ | P0 | âœ… | âœ… | âŒ |
| 19 | **Alerts** | Xem cáº£nh bÃ¡o | Theo khu vá»±c | P0 | âœ… | âœ… | âœ… |
| 20 | **Alerts** | ÄÄƒng kÃ½ theo dÃµi | Topic subscription FCM | P1 | âœ… | âœ… | âŒ |
| 21 | **Chat** | Chat 1-1 | Náº¡n nhÃ¢n â†” Cá»©u há»™ | P1 | âœ… | âœ… | âœ… |
| 22 | **Offline** | Cáº©m nang sinh tá»“n | Offline content | P1 | âœ… | âœ… | âŒ |
| 23 | **Offline** | Danh báº¡ kháº©n cáº¥p | Offline phone numbers | P1 | âœ… | âœ… | âŒ |
| 24 | **Admin** | Dashboard | Analytics & Stats | P0 | âŒ | âŒ | âœ… |
| 25 | **Admin** | Quáº£n lÃ½ SOS | Duyá»‡t, phÃ¢n cÃ´ng, Ä‘Ã³ng | P0 | âŒ | âŒ | âœ… |
| 26 | **Admin** | Quáº£n lÃ½ Alerts | Táº¡o, sá»­a, xÃ³a cáº£nh bÃ¡o | P0 | âŒ | âŒ | âœ… |
| 27 | **Admin** | Quáº£n lÃ½ Äiá»ƒm phÃ¢n phá»‘i | CRUD shelters | P0 | âŒ | âŒ | âœ… |
| 28 | **Admin** | Quáº£n lÃ½ Users | Xem, khÃ³a, phÃ¢n quyá»n | P1 | âŒ | âŒ | âœ… |
| 29 | **Admin** | BÃ¡o cÃ¡o thá»‘ng kÃª | Export CSV/PDF | P2 | âŒ | âŒ | âœ… |
| 30 | **AI** | Dá»± bÃ¡o thiÃªn tai | XGBoost prediction API | P0 | âœ… | âœ… | âœ… |

**Legend:** P0 = Critical, P1 = High, P2 = Medium

---

## PHáº¦N 2: PHÃ‚N TÃCH NGHIá»†P Vá»¤

### 2.1. Quy trÃ¬nh nghiá»‡p vá»¥ chÃ­nh

#### 2.1.1. Quy trÃ¬nh SOS & Cá»©u há»™

```mermaid
sequenceDiagram
    actor V as Náº¡n nhÃ¢n
    participant App as Mobile App
    participant FB as Firebase
    participant Admin as Admin Dashboard
    participant Vol as TÃ¬nh nguyá»‡n viÃªn
    
    V->>App: 1. Nháº¥n nÃºt SOS
    App->>V: 2. Hiá»ƒn thá»‹ form (4 bÆ°á»›c)
    V->>App: 3. Äiá»n thÃ´ng tin + GPS
    V->>App: 4. Chá»¥p áº£nh (optional)
    V->>App: 5. XÃ¡c nháº­n gá»­i
    App->>FB: 6. Táº¡o SOS request
    FB-->>Admin: 7. Realtime notification
    Admin->>FB: 8. Xem chi tiáº¿t SOS
    Admin->>FB: 9. PhÃ¢n cÃ´ng TNV
    FB-->>Vol: 10. Push notification
    Vol->>App: 11. Xem thÃ´ng tin nhiá»‡m vá»¥
    Vol->>FB: 12. Nháº­n nhiá»‡m vá»¥
    Vol->>FB: 13. Cáº­p nháº­t: Äang Ä‘áº¿n
    FB-->>V: 14. ThÃ´ng bÃ¡o TNV Ä‘ang Ä‘áº¿n
    Vol->>FB: 15. HoÃ n thÃ nh cá»©u há»™
    FB-->>Admin: 16. Update dashboard
    Admin->>FB: 17. ÄÃ³ng SOS request
```

**MÃ´ táº£ chi tiáº¿t cÃ¡c bÆ°á»›c:**

1. **BÆ°á»›c 1-5: NgÆ°á»i dÃ¢n gá»­i SOS**
   - Thá»i gian: 30-60 giÃ¢y
   - Dá»¯ liá»‡u: MÃ´ táº£, GPS, sá»‘ ngÆ°á»i, áº£nh
   - Validation: Ãt nháº¥t cÃ³ mÃ´ táº£ & GPS

2. **BÆ°á»›c 6-7: LÆ°u vÃ o há»‡ thá»‘ng**
   - Firestore collection: `sos_requests`
   - Status: `pending`
   - Severity: Auto-calculate tá»« keywords

3. **BÆ°á»›c 8-9: Admin xá»­ lÃ½**
   - Xem trÃªn báº£n Ä‘á»“
   - ÄÃ¡nh giÃ¡ má»©c Ä‘á»™ Æ°u tiÃªn
   - TÃ¬m TNV gáº§n nháº¥t cÃ³ ká»¹ nÄƒng phÃ¹ há»£p
   - GÃ¡n nhiá»‡m vá»¥

4. **BÆ°á»›c 10-12: TNV nháº­n nhiá»‡m vá»¥**
   - Push notification
   - Xem chi tiáº¿t (Ä‘á»‹a chá»‰, sá»‘ ngÆ°á»i, áº£nh)
   - Cháº¥p nháº­n hoáº·c tá»« chá»‘i

5. **BÆ°á»›c 13-15: Thá»±c hiá»‡n cá»©u há»™**
   - TNV cáº­p nháº­t tráº¡ng thÃ¡i
   - Náº¡n nhÃ¢n Ä‘Æ°á»£c thÃ´ng bÃ¡o
   - Chat trá»±c tiáº¿p náº¿u cáº§n

6. **BÆ°á»›c 16-17: HoÃ n táº¥t**
   - Admin Ä‘Ã³ng case
   - LÆ°u vÃ o lá»‹ch sá»­
   - Thá»‘ng kÃª bÃ¡o cÃ¡o

#### 2.1.2. Quy trÃ¬nh QuyÃªn gÃ³p

**Flow diagram:**

```mermaid
flowchart TD
    Start([NgÆ°á»i dÃ¹ng vÃ o tab QuyÃªn gÃ³p]) --> Choose{Chá»n loáº¡i}
    Choose -->|Tiá»n máº·t| Money[Nháº­p sá»‘ tiá»n]
    Choose -->|Váº­t pháº©m| Supply[Chá»n loáº¡i váº­t pháº©m]
    Choose -->|Thá»i gian| Time[ÄÄƒng kÃ½ ká»¹ nÄƒng]
    
    Money --> Amount{Sá»‘ tiá»n há»£p lá»‡?}
    Amount -->|KhÃ´ng| Money
    Amount -->|CÃ³| QR[Hiá»ƒn thá»‹ QR MTTQ]
    QR --> Trans[Chuyá»ƒn khoáº£n]
    Trans --> Confirm[XÃ¡c nháº­n Ä‘Ã£ chuyá»ƒn]
    
    Supply --> Detail[Äiá»n chi tiáº¿t váº­t pháº©m]
    Detail --> Address[Chá»n cÃ¡ch giao]
    Address --> SaveSupply[(LÆ°u Firestore)]
    
    Time --> Skill[Chá»n ká»¹ nÄƒng + thá»i gian]
    Skill --> Register[(ÄÄƒng kÃ½ TNV)]
    
    Confirm --> SaveMoney[(LÆ°u donation)]
    SaveSupply --> Success([HoÃ n táº¥t])
    SaveMoney --> Success
    Register --> Success
```

**Business rules:**

| Rule | MÃ´ táº£ | RÃ ng buá»™c |
|------|-------|-----------|
| **MIN_DONATION** | Sá»‘ tiá»n tá»‘i thiá»ƒu | 10,000 VNÄ |
| **MAX_DONATION** | Sá»‘ tiá»n tá»‘i Ä‘a | 100,000,000 VNÄ/láº§n |
| **SUPPLY_CATEGORIES** | Danh má»¥c váº­t pháº©m | Thá»±c pháº©m, Y táº¿, Quáº§n Ã¡o, NÆ°á»›c, KhÃ¡c |
| **VOLUNTEER_MIN_AGE** | Äá»™ tuá»•i tá»‘i thiá»ƒu TNV | 18 tuá»•i |
| **SKILLS** | Ká»¹ nÄƒng TNV | Váº­n chuyá»ƒn, Y táº¿, Náº¥u Äƒn, Dá»n dáº¹p, PhÃ¢n phá»‘i |

#### 2.1.3. Quy trÃ¬nh Dá»± bÃ¡o & Cáº£nh bÃ¡o

```mermaid
sequenceDiagram
    participant User as User App
    participant GPS as GPS Service
    participant AI as AI Service
    participant FB as Firebase
    participant FCM as Cloud Messaging
    
    User->>GPS: 1. Láº¥y vá»‹ trÃ­ hiá»‡n táº¡i
    GPS-->>User: 2. Lat, Lng
    User->>AI: 3. POST /api/v1/hazard/predict
    Note over AI: XGBoost Model
    AI-->>User: 4. Risk level (1-5) + Type
    User->>User: 5. Hiá»ƒn thá»‹ vÃ¹ng nguy hiá»ƒm
    
    Note over FB,FCM: Admin táº¡o cáº£nh bÃ¡o
    FB->>FCM: 6. Send to topic subscription
    FCM-->>User: 7. Push notification
    User->>User: 8. Hiá»ƒn thá»‹ alert popup
```

### 2.2. YÃªu cáº§u chá»©c nÄƒng (Functional Requirements)

#### FR1: Authentication & Authorization

| ID | YÃªu cáº§u | MÃ´ táº£ chi tiáº¿t | Priority |
|----|---------|----------------|----------|
| FR1.1 | ÄÄƒng kÃ½ tÃ i khoáº£n | User nháº­p email, password, há» tÃªn, sá»‘ Ä‘iá»‡n thoáº¡i, chá»n role (Victim/Volunteer) | P0 |
| FR1.2 | XÃ¡c thá»±c email | Gá»­i link verify qua email | P0 |
| FR1.3 | ÄÄƒng nháº­p | Email + password hoáº·c Google Sign-in | P0 |
| FR1.4 | QuÃªn máº­t kháº©u | Gá»­i link reset qua email | P0 |
| FR1.5 | ÄÄƒng xuáº¥t | Clear session, local cache | P0 |
| FR1.6 | PhÃ¢n quyá»n | Victim, Volunteer, Admin vá»›i quyá»n khÃ¡c nhau | P0 |

#### FR2: TÃ­nh nÄƒng SOS

| ID | YÃªu cáº§u | MÃ´ táº£ chi tiáº¿t | Priority |
|----|---------|----------------|----------|
| FR2.1 | Gá»­i SOS | Form 4 bÆ°á»›c: MÃ´ táº£, ThÃ´ng tin liÃªn há»‡, áº¢nh/Video, XÃ¡c nháº­n | P0 |
| FR2.2 | Auto-detect GPS | Tá»± Ä‘á»™ng láº¥y tá»a Ä‘á»™ khi má»Ÿ form | P0 |
| FR2.3 | Upload áº£nh | Tá»‘i Ä‘a 5 áº£nh, 10MB/áº£nh | P0 |
| FR2.4 | Tráº¡ng thÃ¡i realtime | Pending â†’ InProgress â†’ Completed/Cancelled | P0 |
| FR2.5 | Lá»‹ch sá»­ SOS | Xem láº¡i cÃ¡c SOS Ä‘Ã£ gá»­i | P1 |
| FR2.6 | Há»§y SOS | Náº¿u Ä‘Ã£ an toÃ n | P1 |
| FR2.7 | ÄÃ¡nh giÃ¡ sau cá»©u há»™ | Rating + feedback | P2 |

(Tiáº¿p tá»¥c cho táº¥t cáº£ modules...)

### 2.3. YÃªu cáº§u phi chá»©c nÄƒng (Non-Functional Requirements)

#### NFR1: Performance

| Metric | Target | Measurement |
|--------|--------|-------------|
| **Response time** | < 2 giÃ¢y | 95th percentile |
| **SOS submission** | < 3 giÃ¢y | End-to-end |
| **Map loading** | < 5 giÃ¢y | Initial load |
| **Push notification** | < 10 giÃ¢y | Delivery time |
| **AI prediction** | < 1 giÃ¢y | API response |
| **Concurrent users** | 10,000 | Simultaneous |
| **Database queries** | < 500ms | Firestore read |

#### NFR2: Availability & Reliability

- **Uptime:** 99.5% (cho phÃ©p downtime ~3.6 giá»/thÃ¡ng)
- **Disaster Recovery:** RTO < 4 giá», RPO < 1 giá»
- **Backup:** Daily automated backups
- **Failover:** Firebase tá»± Ä‘á»™ng xá»­ lÃ½

#### NFR3: Scalability

- **Vertical:** Firebase auto-scales
- **Horizontal:** Stateless AI service cÃ³ thá»ƒ deploy nhiá»u instances
- **Data growth:** Support up to 10M documents
- **File storage:** Up to 5TB (Firebase Storage)

#### NFR4: Security

- **Authentication:** Firebase Auth vá»›i MFA support
- **Authorization:** Role-based access control (RBAC)
- **Data encryption:**
  - At rest: Firebase encrypted by default
  - In transit: HTTPS/TLS 1.3
- **Input validation:** Client-side + server-side
- **Rate limiting:** AI service 100 requests/minute/IP
- **Audit logging:** All admin actions Ä‘Æ°á»£c log

#### NFR5: Usability

- **Learning curve:** < 10 phÃºt cho user má»›i
- **Accessibility:** Support screen readers, font scaling
- **Multi-language:** Tiáº¿ng Viá»‡t (v1.0), English (roadmap)
- **Offline capability:** Cáº©m nang & danh báº¡ kháº©n cáº¥p

#### NFR6: Maintainability

- **Code quality:** 80%+ test coverage
- **Documentation:** Inline comments, README Ä‘áº§y Ä‘á»§
- **Logging:** Structured logs vá»›i levels
- **Monitoring:** Firebase Analytics + Crashlytics

---

*(TÃ i liá»‡u nÃ y sáº½ tiáº¿p tá»¥c vá»›i cÃ¡c pháº§n 3-10 trong files riÃªng biá»‡t Ä‘á»ƒ dá»… quáº£n lÃ½)*

